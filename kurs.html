<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

</head>
<style>
    body {
        background-color: #fbfbfb;
    }

   

    #btn {
        color: #000;
        text-decoration: none;
    }
    .col{
        background: #fbfbfb;
        justify-content: center;
        width: 200px;
    }
    form {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    input[type=number]{
        text-align: center;
    }
</style>

<body>
    <h1>kurs hari ini</h1>
    <h1>Stok Saldo</h1>
    <div class="saldo">$50</div>
    <p>Stok akan di update setelah saldo habis</p>

    <!-- HTML -->
    <div id="usdToIdrValue"></div>
    kurs<div id="nilaikurs"></div>
    <!-- bulat<div id="bulat"></div> -->
    <div class="container rounded-3 bg-body shadow-sm p-2 d-flex justify-content-center">
        <div class="col d-flex">
            <div class="formbeli">
                <form>
                    <label class="form-label" for="usd">Masukan Jumlah Yang Ingin di Beli</label>
                    <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon1">$</span>
                        <input id="usd" type="number" class="form-control shadow-none" placeholder="Jumlah" value="1" aria-label="Username" aria-describedby="basic-addon1">
                      </div>
                    
                    <label class="form-label" for="usd">Total</label>
                    <div id="total" class="ambil mt-2"></div>
                    <button class="btn btn-info mt-2"><a id="btn">Beli Sekarang</a></button>
                </form>
                <!-- https://api.whatsapp.com/send/?phone=6281312379190&text= hallo saya ingin membeli Paypal ${20}" -->
            </div>
        </div>
    </div>
    <script>
        addEventListener


    </script>



</body>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

<script>
    // Fungsi untuk mengambil data kurs USD ke IDR dari Fixer.io
    async function getData() {
        try {
            const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
            const data = await response.json();
            return data.rates.IDR;
        } catch (error) {
            console.error('Error fetching data:', error);
            return null;
        }
    }

    // Fungsi untuk menampilkan nilai tukar dalam bentuk angka
    async function updateExchangeRate() {
        const idrValue = await getData();

        if (idrValue !== null) {
            // Tampilkan nilai tukar dalam bentuk angka
            document.getElementById('usdToIdrValue').innerText = `1 USD = ${idrValue} IDR`;
            let bulat = document.getElementById('nilaikurs').innerText = idrValue;
            let usd = document.getElementById('usd').value;
            // console.log(usd);
            // console.log(Math.round(bulat + 2000));
            let total = Math.round(idrValue + 2500) * usd;
            // let totalll = parseFloat(total.toFixed(0));

            // let num = 12345;
            let rupiahFormat = new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
            }).format(total);


            let totall = document.getElementById('total').innerHTML = rupiahFormat;
            // =============================================
            // let angka = 12222
 
            
            // let angkaBulat = rupiahFormat.substring(3);
            // let totalll = parseFloat(angkaBulat.toFixed(0));
            // console.log(angkaBulat+"1000"); 


            let btn = document.getElementById('btn').setAttribute('href', "https://api.whatsapp.com/send/?phone=6281312379190&text= hallo saya ingin membeli Paypal" + " " + rupiahFormat);


        }
        // console.log(total+'iyaaa'); 
        // Panggil fungsi ini kembali setiap beberapa detik (misalnya, setiap 5 detik)
        setTimeout(updateExchangeRate, 1000);


    }

    // Panggil fungsi updateExchangeRate untuk pertama kalinya
    updateExchangeRate();


    //   const bulat = document.getElementById('nilaikurs');
    //   const kurs = document.getElementById('bulat').innerHTML =  bulat;
    function openbuy() {
        window.open("https://api.whatsapp.com/send/?phone=6281312379190&text= hallo saya ingin membeli Paypal" + "2000")
    }
    // let angka = 13.256789;
// let angkaBulat = parseFloat(angka.toFixed(1))+"00"; // Memutuskan hingga dua desimal dan mengubahnya ke float

// console.log(angkaBulat);
    //    console.log();
</script>





</html>